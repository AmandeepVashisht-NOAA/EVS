#!/bin/bash

# EVS Settings
export EVS_HOME_DIR="/lfs/h2/emc/vpppg/noscrub/$USER/EVS"
source ${EVS_HOME_DIR}/ush/cam/evs_setup_WCOSS2.sh
export evs_ver="v1.0"

# MET/METplus Settings
export METPLUS_VERSION=${metplus_ver}
export MET_VERSION=${met_ver}
export MET_PLUS_PATH="/apps/ops/para/libs/intel/19.1.3.304/metplus/$METPLUS_VERSION"
export MET_PATH="/apps/ops/para/libs/intel/19.1.3.304/met/$MET_VERSION"
export MET_PLUS_CONF="${EVS_HOME_DIR}/parm/metplus_config/cam/precip/stats"
export MET_CONFIG="${MET_PLUS_PATH}/parm/met_config"
export MET_PLUS_OUT="/lfs/h2/emc/ptmp/$USER/EVS_out"
export MET_CONFIG_OVERRIDES=""

# Logging
export METPLUS_VERBOSITY="DEBUG"
export MET_VERBOSITY="5"
export LOG_MET_OUTPUT_TO_METPLUS="yes"

# General Verification Settings
export NET="evs"
export STEP="stats"
export COMPONENT="cam"
export RUN="atmos"
export VERIF_CASE="precip"
export VERIF_TYPE="ccpa"

# Time Settings
export VDATE="20220818"
export VHOUR="12"
export FHR_START="6"
export FHR_END="60"
export FHR_INCR="6"

# Model/Obs Settings
export COMIN="/lfs/h1/ops/prod/com/nam/v4.2"
export COMINfcst=$COMIN
export COMINobs="/lfs/h1/ops/prod/com/ccpa/v4.2"
export COMOUT=${MET_PLUS_OUT}/com/$NET/$evs_ver/$STEP/$COMPONENT/$RUN
export MODEL_INPUT_TEMPLATE="nam.{init?fmt=%Y%m%d}/nam.t{init?fmt=%2H}z.conusnest.hiresf{lead?fmt=%2H}.tm00.grib2"
export MODELNAME="CONUSNEST"
export OBSNAME="CCPA"
export MODEL_ACC="03"
export OBS_ACC="01"

# Additional Verification Settings
export ACC="03"
export FCST_LEV="A3"
export FCST_THRESH="ge2.54,ge6.35,ge12.7,ge25.4"
export OBS_LEV="A3"
export OBS_THRESH="ge2.54,ge6.35,ge12.7,ge25.4"
export GRID="G212"
export BOOL_NBRHD="False"
if [ "$BOOL_NBRHD" = true ]; then
    export OUTPUT_FLAG_NBRHD="STAT"
    export OUTPUT_FLAG_CATEG="NONE"
else
    export OUTPUT_FLAG_NBRHD="NONE"
    export OUTPUT_FLAG_CATEG="STAT"
fi
export NBRHD_WIDTHS="1,3,5,7,9,11,13,17,21,25,31,35,39,43,47,53,57,63"
